<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:body>

    <ui:composition template="../common/layout.xhtml">

        <ui:define name="header">
            <ui:include src="../common/inlogedheader.xhtml" />
        </ui:define>


        <ui:define name="content">

        <div class="panel panel-primary" style="margin-top: 150px">
            <div class="panel-heading">
                <h3 class="panel-title">Hello #{account.userDto.firstName}!</h3>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-3 col-lg-3 " align="center">
                        <img alt="User Pic" src="https://qbservices.net/wp-content/uploads/2015/06/User.png"
                             class="img-circle img-responsive"/>
                    </div>
                    <div class=" col-md-9 col-lg-7 ">
                        <table class="table table-user-information">
                            <tbody>
                            <tr>
                                <td>First Name</td>
                                <td>#{account.userDto.firstName}</td>
                            </tr>

                            <tr>
                                <td>Last Name</td>
                                <td>#{account.userDto.lastName}</td>
                            </tr>
                            <tr>
                                <td>Date of Birth</td>
                                <td></td>
                            </tr>


                            <tr>
                                <td>User Name</td>
                                <td>#{account.userDto.username}</td>
                            </tr>
                            <tr>
                                <td>Email</td>
                                <td>
                                    <a href="mailto:@Model.Email">#{account.userDto.email}</a>
                                </td>
                            </tr>
                            </tbody>

                        </table>

                    </div>
                </div>
            </div>
            <div class="panel-footer">


                <div class="form-group">
                    <h:form>
                        <label for="Post">Post::</label>
                        <h:inputTextarea value="#{account.postText}" styleClass="form-control" rows="5" id="Post"/>
                        <h:commandButton id="postButton" value="Save" action="#{account.savePost}"
                                         styleClass="btn btn-lg btn-warning" style="margin-top: 5px"/>

                    </h:form>
                </div>
            </div>

            <ui:repeat value="#{account.allPosts}" var="post">

                <div class="col-sm-1">
                    <div class="thumbnail">
                        <h:graphicImage value="../resources/images/user_img.png"/>
                    </div>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <strong>${post.title}</strong> <span class="text-muted"><h:outputText value="${post.created}"/></span>
                    </div>
                    <div class="panel-body">
                        <h:outputText value="${post.text}"/>
                    </div>
                    <h:form>
                        <h:commandButton id="deleteButton" value="Detele" action="#{account.deletePost(post.postId)}"
                                         styleClass="btn btn-xs btn-danger" style="margin-left: 15px"/>
                    </h:form>
                </div>

            </ui:repeat>
        </div>
        </ui:define>
    </ui:composition>

</h:body>

</html>
